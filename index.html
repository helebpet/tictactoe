<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Barrio&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
</head>
<body>
    <!-- Menu Screen -->
    <div id="menuScreen" class="ui-container">
        <h1 class="title" id="mainTitle"></h1>
        <div class="subtitle">Choose your game mode:</div>
        <button class="game-button" id="btnRobot">Single-player</button>
        <button class="game-button" id="btnHuman">Two-player</button>
    </div>

    <!-- Name Entry Screen -->
    <div id="nameScreen" class="ui-container hidden">
        <h1 class="title" id="nameScreenTitle"></h1>
        <div class="input-group">
            <label class="input-label" for="player1Input" id="player1Label">Player 1 (Heart):</label>
            <input type="text" id="player1Input" class="game-input" maxlength="18" autocomplete="off" spellcheck="false" placeholder="Player 1">
        </div>
        <div id="player2Group" class="input-group">
            <label class="input-label" for="player2Input">Player 2 (Flower):</label>
            <input type="text" id="player2Input" class="game-input" maxlength="18" autocomplete="off" spellcheck="false" placeholder="Player 2">
        </div>
        <button class="game-button start" id="btnStartGame">Start Game</button>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="ui-container hidden">
        <div id="resultText" class="result-display"></div>
        <button class="game-button" id="btnPlayAgain">Play Again</button>
        <button class="game-button" id="btnBackToMenu">Back to Menu</button>
    </div>

    <script src="game.js"></script>
    <script>
    // Use all five palette colors with randomization and no repeats
    const palette = ['#5c30ff','#e63c23','#f791c3','#f6bc3f','#008c47'];

    function renderMultiColorTitle(text, id) {
        const el = document.getElementById(id);
        el.innerHTML = '';
        const words = text.split(' ');
        
        words.forEach((word, wordIdx) => {
            const wordSpan = document.createElement('span');
            wordSpan.className = 'title-word';
            
            // Create array of available colors for this word
            let availableColors = [...palette];
            let lastColor = null;
            
            for (const ch of word) {
                const span = document.createElement('span');
                span.textContent = ch;
                span.className = 'title-letter';
                
                // Pick random color but ensure no adjacent letters have same color
                let color;
                do {
                    const randomIndex = Math.floor(Math.random() * availableColors.length);
                    color = availableColors[randomIndex];
                } while (color === lastColor && availableColors.length > 1);
                
                span.style.color = color;
                lastColor = color;
                wordSpan.appendChild(span);
            }
            
            el.appendChild(wordSpan);
            if (wordIdx < words.length - 1) {
                el.appendChild(document.createTextNode(' '));
            }
        });
        
        // Special handling for "NAMES" to make it smaller
        if (id === 'nameScreenTitle') {
            const namesPart = el.querySelector('.title-word:last-child');
            if (namesPart) {
                namesPart.style.fontSize = '0.85em';
                namesPart.style.letterSpacing = '-0.05em';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        renderMultiColorTitle('TIC TAC TOE', 'mainTitle');
        renderMultiColorTitle('ENTER NAMES', 'nameScreenTitle');
    });
    </script>

<script>
    // After your existing renderMultiColorTitle code...
    
    // Add background click handler
    document.body.addEventListener('click', (e) => {
        // Only trigger if clicking directly on the body/background
        if (e.target === document.body) {
            renderMultiColorTitle('TIC TAC TOE', 'mainTitle');
            renderMultiColorTitle('ENTER NAMES', 'nameScreenTitle');
        }
    });

    // Initial render
    document.addEventListener('DOMContentLoaded', () => {
        renderMultiColorTitle('TIC TAC TOE', 'mainTitle');
        renderMultiColorTitle('ENTER NAMES', 'nameScreenTitle');
    });
</script>
</body>
</html>